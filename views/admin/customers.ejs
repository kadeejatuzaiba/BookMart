<%- include("../../views/partials/admin/header") %>

<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap">
    <h2 class="content-title card-title mb-3">Customers</h2>
    <form action="/admin/users/" method="get" class="d-flex" style="max-width: 500px; width: 100%;">
      <div class="input-group input-group-sm w-100">
        <input type="text" class="form-control" placeholder="Search customers..." name="search">
        <button class="btn btn-outline-primary" type="submit">Search</button>
      </div>
    </form>
  </div>

  <div class="table-responsive">
    <table class="table table-striped align-middle text-center">
      <thead class="table-dark">
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Phone No</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <%for(let i=0;i<data.length;i++){%>
        <tr>
          <td><%=data[i].name%></td>
          <td><%=data[i].email%></td>
          <td><%=data[i].phone%></td>
          <td>
            <%if(data[i].isBlocked===false){%>
            <a href="/admin/blockCustomer?id=<%=data[i]._id%>" class="btn btn-danger btn-sm me-1">Block</a>
            <%}else{%>
            <a href="/admin/unblockCustomer?id=<%=data[i]._id%>" class="btn btn-success btn-sm">Unblock</a>
            <%}%>
          </td>
        </tr>
        <%}%>
      </tbody>
    </table>
  </div>

  <nav class="d-flex justify-content-center mt-4">
    <ul class="pagination mb-0">
      <!-- pagination items here -->
       <%for(let i=1;i<=totalPages;i++){%>
        <li class="page-item <%=(i===currentPage) ? 'active' : '' %>">
            <a class="page-link" href="?page=<%= i %>"><%= i %></a>

        </li>
        <%}%>
    </ul>
  </nav>
</div>

<%- include("../../views/partials/admin/footer") %>
